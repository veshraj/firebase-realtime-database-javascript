<!DOCTYPE html>
<html>
  <head>
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
    <link
      href="https://getbootstrap.com/docs/4.5/examples/offcanvas/offcanvas.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.css"
      integrity="sha512-3pIirOrwegjM6erE5gPSwkUzO+3cTjpnV9lexlNZqvupR64iZBnOOTiiLPb9M36zpMScbmUNIcHUqKD47M719g=="
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.css"
      integrity="sha512-3pIirOrwegjM6erE5gPSwkUzO+3cTjpnV9lexlNZqvupR64iZBnOOTiiLPb9M36zpMScbmUNIcHUqKD47M719g=="
      crossorigin="anonymous"
    />
  </head>
  <body class="bg-light">
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark">
      <a class="navbar-brand mr-auto mr-lg-0" href="#">Firebase</a>
      <button
        class="navbar-toggler p-0 border-0"
        type="button"
        data-toggle="offcanvas"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div
        class="navbar-collapse offcanvas-collapse"
        id="navbarsExampleDefault"
      >
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="./index.html">Dashboard </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./notifications.html">Notifications</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="./users.html">Users</a>
          </li>
        </ul>

        <form class="form-inline my-2 my-lg-0">
          <input
            class="form-control mr-sm-2"
            type="text"
            placeholder="Search"
            aria-label="Search"
          />
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">
            Search
          </button>
        </form>
      </div>
    </nav>

    <div class="nav-scroller bg-white shadow-sm">
      <nav class="nav nav-underline"></nav>
    </div>

    <main role="main" class="container">
      <div
        class="d-flex align-items-center p-3 my-3 text-white-50 bg-purple rounded shadow-sm"
      >
        <img
          class="mr-3"
          src="data:image/png;base64,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"
          alt=""
          width="48"
          height="48"
        />
        <div class="lh-100">
          <h6 class="mb-0 text-white lh-100">Firebase using Javascript</h6>
          <small>Simple Tutorial</small>
        </div>
      </div>
      <a class="btn btn-primary" data-toggle="modal" data-target="#addModal"
        >New User</a
      >
      <div class="my-3 p-3 bg-white rounded shadow-sm">
        <h6 class="border-bottom border-gray pb-2 mb-0">User List</h6>
        <table id="list" class="table table-stripped"></table>
      </div>
    </main>

    <div
      class="modal fade"
      id="addModal"
      data-backdrop="static"
      data-keyboard="false"
      tabindex="-1"
      aria-labelledby="addModal"
      aria-hidden="true"
    >
      <form id="addForm" method="POST">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staticBackdropLabel">Create User</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group row">
                <div class="col-md-6">
                  <label for="first_name">First Name</label>
                  <input
                    type="text"
                    class="form-control"
                    name="first_name"
                    id="first_name"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="last_name">Last Name</label>
                  <input
                    type="text"
                    class="form-control"
                    name="last_name"
                    id="last_name"
                    required
                  />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-md-6">
                  <label for="email">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    name="email"
                    id="email"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="contact_number">Contact No</label>
                  <input
                    type="text"
                    class="form-control"
                    name="contact_number"
                    id="contact_number"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                Close
              </button>
              <button type="submit" class="btn btn-primary">Save</button>
            </div>
          </div>
        </div>
      </form>
    </div>

    <div
      class="modal fade"
      id="editModal"
      data-backdrop="static"
      data-keyboard="false"
      tabindex="-1"
      aria-labelledby="editModal"
      aria-hidden="true"
    >
      <form id="editForm" method="POST">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staticBackdropLabel">Edit User</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group row">
                <div class="col-md-6">
                  <label for="update_first_name">First Name</label>
                  <input
                    type="text"
                    class="form-control"
                    name="first_name"
                    id="update_first_name"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="update_last_name">Last Name</label>
                  <input
                    type="text"
                    class="form-control"
                    name="last_name"
                    id="update_last_name"
                    required
                  />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-md-6">
                  <label for="update_email">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    name="email"
                    id="update_email"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="update_contact_number">Contact No</label>
                  <input
                    type="text"
                    class="form-control"
                    name="contact_number"
                    id="update_contact_number"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                Close
              </button>
              <button type="submit" class="btn btn-primary">Save</button>
            </div>
          </div>
        </div>
      </form>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"
      integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw=="
      crossorigin="anonymous"
    ></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>

    <script src="./js/firebase.js"></script>
    <script src="./js/script.js"></script>
    <script>
      var kX0nvDIzWFSwq9OIZJRuOZtyRMEmRzjbMdtyMlgmsXPjO6LcB181XNYmTK5y43tCMCFkeGAun7YJM8f1wE2jRwdj7IwO7LpghM184ezdaGgTyoUPfS2ZXEm4MuPbfYyxMLk;
      watch("/users", null, (response) => {
        list = response;
        generateTable(response, "#list");
      });

      $(document).on("submit", "#addForm", (evt) => {
        evt.preventDefault();
        addRow("/users", getFormData("#addForm"));
        $("#addForm")[0].reset();
        $("#addModal").find(".close").click();
      });

      $(document).on("click", ".edit", (evt) => {
        patchValue("#editForm", list[$(evt.target).attr("id")]);
        $("#editForm").attr("data-id", $(evt.target).attr("id"));
        $("#editModal").modal("show");
      });

      $(document).on("submit", "#editForm", (evt) => {
        evt.preventDefault();
        updateRow(
          "/users",
          getFormData("#editForm"),
          $("#editForm").attr("data-id")
        );
        $("#editModal").find(".close").click();
      });

      $(document).on("click", ".delete", (evt) => {
        deleteRow("/users", $(event.target).attr("id"));
      });
    </script>
  </body>
</html>
